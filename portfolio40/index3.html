<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>test test test test</title>

    <link rel="stylesheet" href="./assets/css/style3.css">
    <link rel="stylesheet" href="./assets/css/reset.css">

    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;500;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@200;300;400;500;600;700;900&display=swap" rel="stylesheet">
</head>
<body>

    <div class="paraScroll">scrollTop() : <span>0</span>px</div>

    <div id="contents">
        <section id="section01">
            <div class="s1">
                <div class="sun"></div>
                <div class="land"><img src="./assets/img/islandWrap.svg" alt="land"></div>
                <div class="waveWrap">
                    <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
                        <defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" /></defs>
                        <g class="parallax">
                            <use xlink:href="#gentle-wave" x="48" y="3" fill="rgba(211,141,141,0.6)" />
                            <use xlink:href="#gentle-wave" x="48" y="5" fill="rgba(211,141,141,1)" />
                        </g>
                    </svg>
                </div>
                <div class="ship"><img src="./assets/img/ship.svg" alt="ship"></div>
                <div class="name"
                    data-0 = "opacity: 1"
                    data-1000 = "opacity: 0"
                >
                    <div class="mainTitle">
                        <h2>Hyun<br>Joying</h2>
                        <strong>web developer portfolio site</strong>
                    </div>
                </div>
            </div>
        </section>

        <section id="section02">
            <div class="s1">
                <div class="introduce">
                    <div class="intImg">
                        <svg id="svg" viewBox="0 0 1000 1000">
                            <clipPath id="clip-path">
                                <path class="blob cls-1"></path>
                            </clipPath>
                            <path class="blob cls-1"></path>
                            <g class="cls-2">
                                <image class="cls-3" width="1000" height="1000" xlink:href="./assets/img/photo.jpeg" alt="me"/>
                            </g>
                        </svg>
                    </div>
                    <div class="intTxt">
                        <p>ë§Œë‚˜ì„œ ë°˜ê°€ì›Œìš” ğŸ‘‹<br>
                        ì €ëŠ” í”„ë¡ íŠ¸ ì—”ë“œë¥¼ ê¿ˆê¾¸ëŠ”<br>
                        ì›¹ í¼ë¸”ë¦¬ì…”ë¥¼ ê¿ˆê¾¸ëŠ”<br>
                        ê¿ˆë¹› íŒŒí‹°ì‹œì—˜ ê¹€í˜„ì •ì…ë‹ˆë‹¤.<br><br>
                        
                        í¬ê·¼í¬ê·¼ ë‹¬ì½¤í•´ ë‘¥ê¸€ë‘¥ê¸€ ë¶€í‘¸ëŠ” ë§ˆìŒ<br>
                        ë§›ìˆëŠ” ê¿ˆì„ ê·¸ë ¤ë´ìš” í–‰ë³µí•œ ê¿ˆë¹› íŒŒí‹°ì‹œì—˜<br><br>
                        
                        ë§¤ì¼ ë°˜ë³µë˜ëŠ” ìƒˆ ì•„ì¹¨ë„ ì˜¤ëŠ˜ì€ ì¢€ ë” íŠ¹ë³„í•˜ì£ <br>
                        ì–´ì„œê°€ìš” ìŠ¤ìœ„íŠ¸ ì™•êµ­ìœ¼ë¡œ </p>
                    </div>
                </div>
            </div>

            <div class="s2 fixed"
                data-3508 = "transform: translate(0%, 100%);  display:none;"
                data-3509 = "transform: translate(0%, 100%);  display:block;"
                data-5000 = "transform: translate(0%, 0%);  display:block;"
                data-6700 = "transform: translate(-100%, 0%);"
            >
                <div class="stoneLeft"><img src="./assets/img/stoneLeft.svg" alt="stoneLeft"></div>
                <div class="floor"><img src="./assets/img/floor1.svg" alt="floor1"></div>
                <div class="seal"><img src="./assets/img/seal2.svg" alt="seal"></div>
                <div class="leaf_L">
                    <img class="pink_leaf" src="./assets/img/pink_leaf.svg" alt="pink_leaf.svg">
                    <img class="babyPink_leaf" src="./assets/img/babyPink_leaf.svg" alt="babyPink_leaf.svg">
                    <img class="purple_leaf" src="./assets/img/purple_leaf.svg" alt="purple_leaf.svg">
                    <img class="red_left" src="./assets/img/red_left.svg" alt="red_left.svg">
                    <img class="red_left2" src="./assets/img/red_left.svg" alt="red_left2.svg">
                    <img class="babyPurple_leaf" src="./assets/img/babyPurple_leaf.svg" alt="babyPurple_leaf.svg">
                    <img class="yell_leaf" src="./assets/img/yell_leaf.svg" alt="yell_leaf.svg">
                    <img class="tree1" src="./assets/img/tree1.svg" alt="tree1.svg">
                    <img class="tree2" src="./assets/img/tree2.svg" alt="tree2.svg">
                </div>
                <div class="leaf_R">
                    <img class="pink_leaf2" src="./assets/img/pink_leaf2.svg" alt="pink_leaf2.svg">
                    <img class="babyPink_leaf2" src="./assets/img/babyPink_leaf2.svg" alt="babyPink_leaf2.svg">
                    <img class="red_right" src="./assets/img/red_right.svg" alt="red_right.svg">
                    <img class="red_right2" src="./assets/img/red_right.svg" alt="red_right2.svg">
                    <img class="babyPurple_leaf2" src="./assets/img/babyPurple_leaf2.svg" alt="babyPurple_leaf.svg">
                    <img class="yell_leaf2" src="./assets/img/yell_leaf2.svg" alt="yell_leaf2.svg">
                </div>

                <img class="hippocampus" src="./assets/img/hippocampus.svg" alt="hippocampus.svg">
                <img class="hippocampus2" src="./assets/img/hippocampus2.svg" alt="hippocampus2.svg">
                <img class="hippocampus3" src="./assets/img/hippocampus3.svg" alt="hippocampus3.svg">
                <img class="miniFish" src="./assets/img/miniFish1.svg" alt="miniFish.svg">
                <img class="miniFish miniFish2" src="./assets/img/miniFish2.svg" alt="miniFish.svg">
                <img class="yellFish" src="./assets/img/yellFish.svg" alt="yellFish.svg">
                <img class="nimoFish" src="./assets/img/nimoFish.svg" alt="nimoFish.svg">
                <img class="nimoFish2" src="./assets/img/nimoFish2.svg" alt="nimoFish2.svg">
            </div>

        </section>
        <!-- //section02 -->


        <!-- section03 -->
        <section id="section03">
        </section>
    </div>

<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/skrollr/0.6.30/skrollr.min.js"></script>
<!-- <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script> -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.8.0/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.8.0/ScrollTrigger.min.js"></script>
<!-- <script type="module" src="./assets/js/app.js"></script> -->
<script>
    var s = skrollr.init();
    // AOS.init();

    //ìƒˆë¡œê³ ì¹¨ ìŠ¤í¬ë¡¤
    // history.scrollRestoration = "manual"  

    //ë©”ì¸ í™”ë©´ ê³ ì •
    let main = gsap.timeline({
        scrollTrigger: {
            trigger: "#main",
            pin: true,
            scrub: 0.3,
            start: "top top",
            end: "+=1300"
        }
    })

    // //ë©”ì¸ì—ì„œ í•´ íŠ¸ë¦¬ê±°
    // main.to(".sun", {
    //     scrollTrigger: {
    //         trigger: ".sun",
    //         start: "bottom center",
    //         scrub: 2,
    //     },
    // y: 600, duration: 2,
    // }); 


    //ìŠ¤í¬ë¡¤ íƒ‘ ê°’
    window.addEventListener("scroll", function(){
        let scrollTop = window.pageYOffset || document.documentElement.scrollTop || window.scrollY;     //ìŠ¤í¬ë¡¤ í¬ë¡œìŠ¤ ë¸Œë¼ìš°ì§•
        let value = window.scrollY;
        let hippocampus = document.querySelector('.hippocampus');

        document.querySelector(".paraScroll span").innerText = parseInt(scrollTop);


        // hippocampus.style.left = value * 8 + 'px';

    })

    
    //ì•„ë©”ë°” ì •ì˜
    const blob = createBlob({
            element: document.querySelector('.blob'),
            numPoints: 10,  //ì•„ë©”ë°” ì  ê°œìˆ˜
            centerX: 490,   //ì¤‘ì‹¬ì 
            centerY: 490,
            minRadius: 360, //í…Œë‘ë¦¬ êµ´ê³¡
            maxRadius: 420,
            minDuration: 1, //ì§€ì† ì‹œê°„
            maxDuration: 2
        })

    function createBlob(options) {

        var points = [];
        var path = options.element;
        var slice = (Math.PI * 2) / options.numPoints;  //íŒŒì´ * 2 / ì  ê°œìˆ˜
        var startAngle = random(Math.PI * 2);

        var tl = new TimelineMax({
            onUpdate: update
        });

        for (var i = 0; i < options.numPoints; i++) {

            var angle = startAngle + i * slice;
            var duration = random(options.minDuration, options.maxDuration);
            var point = {
                x: options.centerX + Math.cos(angle) * options.minRadius,
                y: options.centerY + Math.sin(angle) * options.minRadius
            };
            var tween = TweenMax.to(point, duration, {
                x: options.centerX + Math.cos(angle) * options.maxRadius,
                y: options.centerY + Math.sin(angle) * options.maxRadius,
                repeat: -1, 
                yoyo: true,
                ease: Sine.easeInOut
            });

            tl.add(tween, -random(duration));
            points.push(point);
        }

        options.tl = tl;
        options.points = points;

        function update() {
            path.setAttribute("d", cardinal(points, true, 1));
        }

        return options;
    }

    function cardinal(data, closed, tension) {

        if (data.length < 1) return "M0 0";
        if (tension == null) tension = 1;

        var size = data.length - (closed ? 0 : 1);
        var path = "M" + data[0].x + " " + data[0].y + " C";

        for (var i = 0; i < size; i++) {

            var p0, p1, p2, p3;

            if (closed) {
                p0 = data[(i - 1 + size) % size];
                p1 = data[i];
                p2 = data[(i + 1) % size];
                p3 = data[(i + 2) % size];

            } else {
                p0 = i == 0 ? data[0] : data[i - 1];
                p1 = data[i];
                p2 = data[i + 1];
                p3 = i == size - 1 ? p2 : data[i + 2];
            }

            var x1 = p1.x + (p2.x - p0.x) / 6 * tension;
            var y1 = p1.y + (p2.y - p0.y) / 6 * tension;

            var x2 = p2.x - (p3.x - p1.x) / 6 * tension;
            var y2 = p2.y - (p3.y - p1.y) / 6 * tension;

            path += " " + x1 + " " + y1 + " " + x2 + " " + y2 + " " + p2.x + " " + p2.y;
        }

        return closed ? path + "z" : path;
    }

    function random(min, max) {
        if (max == null) { max = min; min = 0; }
        if (min > max) { var tmp = min; min = max; max = tmp; }
        return min + (max - min) * Math.random();
    }
    //ì•„ë©”ë°”


    
    // const modal = document.querySelector('.modalWrap');
    // const standard = document.getElementById('standard');

    // standard.addEventListener('click', function(){
    //     modal.classList.add('view');
    // })


    const modal = document.getElementById("modal");
    const modalWrap = document.querySelector(".modalWrap");
    const btnModal = document.querySelector(".project");
    const client = document.querySelector(".client");
    const description = document.querySelector(".description");
    const role = document.querySelector(".role");
    const date = document.querySelector(".date");
    
    
    btnModal.addEventListener("click", e => {
        modal.style.display = "block"
    });

    modal.addEventListener("click", e => {
        const modalBg = e.target;
        if(modalBg.classList.contains("modalBg")){
            modal.style.display = "none"
        }
    })


    const modalInfo = [
        {
            index : 1,
            client : "SCHOOL",
            description : "WEB STANDARD SITE",
            role : "HTML, CSS, JAVASCRIPT, JQUERY",
            date : "2021.10"
        },
        {
            index : 2,
            client : "TEAM PROJECT",
            description : "WEB RESPONSIVE SITE",
            role : "HTML, CSS, JAVASCRIPT, JQUERY",
            date : "2021.10"
        },
        {
            index : 3,
            client : "TEAM PROJECT",
            description : "MEGABOX SITE",
            role : "HTML, CSS, JAVASCRIPT, JQUERY",
            date : "2021.10"
        },
        {
            index : 4,
            client : "TEAM PROJECT",
            description : "REACT SITE",
            role : "HTML, CSS, JAVASCRIPT, JQUERY, REACT",
            date : "2021.10"
        },
        {
            index : 5,
            client : "TEAM PROJECT",
            description : "DOTHOME SITE",
            role : "HTML, CSS, JAVASCRIPT, JQUERY",
            date : "2021.10"
        },   
        {
            index : 6,
            client : "TEAM PROJECT",
            description : "GOODNIGHT SITE",
            role : "HTML, CSS, JAVASCRIPT, JQUERY, PHP",
            date : "2021.10"
        },        
        {
            index : 7,
            client : "TEAM PROJECT",
            description : "APPLE SITE",
            role : "HTML, CSS, JAVASCRIPT, JQUERY",
            date : "2021.10"
        },        
        {
            index : 8,
            client : "TEAM PROJECT",
            description : "SCRIPT",
            role : "HTML, CSS, JAVASCRIPT, JQUERY",
            date : "2021.10"
        },
    ]


    function updateModal(){
        const output = [];
        modalInfo.forEach(() => {
            output.push(`
            <div class="modalWrap fixed">
                <div class="modalBg">
                    <div class="modal goodnight">
                        <div class="frame">
                        </div>
                        <div class="explain">
                            <ul>
                                <li>
                                    <div class="title">CLIENT</div>
                                    <div class="desc client">${modalInfo[0].client}</div>
                                </li>
                                <li>
                                    <div class="title">DESCRIPTION</div>
                                    <div class="desc description">${modalInfo[0].description}</div>
                                </li>
                                <li>
                                    <div class="title">ROLE</div>
                                    <div class="desc role">${modalInfo[0].role}</div>
                                </li>
                                <li>
                                    <div class="title">DATE</div>
                                    <div class="desc date">${modalInfo[0].date}</div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            `)
        })
        modal.innerHTML = output.join(' ');
    console.log(modalInfo[0].role)
    }
    updateModal();


</script>

</body>
</html>